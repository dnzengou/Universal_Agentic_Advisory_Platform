## Part 1: The Consolidated Advisory Framework

### Executive Summary
This framework synthesizes 2,500 years of strategic thoughtâ€”from Sun Tzu's adaptability to Soros' reflexivityâ€”into an actionable decision architecture for high-stakes environments. It addresses the seven critical stressors of 2026: geopolitical conflict (Ukraine-Russia, China-Taiwan), economic weaponization (trade wars, supply chains), systemic risks (climate, market frenzy), and technological escalation (AI, cyberwar).

**Core Innovation**: A "Strategic Resilience Index" that combines realist power assessment with behavioral economics (Prospect Theory) and epistemic hygiene protocols to prevent the Dunning-Kruger effect in strategic planning.

---

### 1. Core Principles (Mapped to Thinkers)

| Principle | Thinker Source | Operational Rule |
|-----------|---------------|------------------|
| **Strategic Clarity with Adaptive Execution** | Sun Tzu (terrain/deception), Thucydides (power transitions), Schumpeter (creative destruction) | Define end-state â†’ Identify leverage points â†’ Design multiple paths â†’ Maintain reserves |
| **Power, Institutions, and Legitimacy** | Machiavelli (virtÃ¹/institutions), Hobbes (authority/order), Foucault (surveillance/biopolitics) | Authority must be effective, bounded, and transparent to sustain consent |
| **Ethical Resilience and Stoic Control** | Marcus Aurelius (Stoic discipline) | Separate facts from interpretations; rehearse adversity; codify virtues (temperance, courage, justice, prudence) |
| **Material Forces & Reflexive Dynamics** | Marx (material constraints), Soros (reflexivity loops) | Monitor narrative-price-policy loops; expect regime shifts when contradictions accumulate |
| **Cognitive & Epistemic Hygiene** | Dunning-Kruger, Knowledge Gap, Strategic Ignorance | Institutionalize red-teams, premortems, base-rate discipline; selectively ignore noise |
| **Panoptic Efficiency vs. Rights** | Bentham/Foucault | Minimize surveillance to necessity; adopt proportionality, accountability, privacy-by-design |

---

### 2. Decision Architecture

**Input Layer**: Baselines (macro, tech, regulatory), actor maps, capability assessments, narrative signals
**Analysis Lenses**:
- *Realist*: Relative power, alliances, deterrence
- *Institutional*: Legal mandates, governance capacity
- *Innovation*: Disruption probabilities, adoption curves
- *Epistemic*: Confidence intervals, bias checks, data provenance

**Options Generation**: No-regrets moves â†’ Contingent strategies â†’ Escalation ladders â†’ Cooperative frameworks
**Safeguards**: Stop-loss thresholds, reversible steps, audit trails, independent oversight

---

### 3. Bias & Epistemic Risk Controls

1. **Premortem/Postmortem Loops**: "What could fail and why?" â†’ Codify learnings
2. **Base-Rate Discipline**: Anchor forecasts to historical frequencies before adjusting
3. **Red-Team/Blue-Team Drills**: Institutionalized dissent; rotate leaders to avoid groupthink
4. **Strategic Ignorance Protocol**: Define "noise" domains to ignore; publish rationale for exclusions
5. **Privacy & Surveillance Impact Assessment**: Evaluate necessity, proportionality, chilling effects

---

### 4. Tailored Playbooks

#### A. Business Strategy Playbook
- **Diagnosis (Sun Tzu/Thucydides)**: Map competitors, substitutes, regulatory terrain; identify chokepoints
- **Positioning (Machiavelli/Hobbes)**: Build resilient governance; maintain authority via predictable policies
- **Innovation (Schumpeter/Soros)**: Pilot disruptive offerings; monitor narrative-adoption-revenue feedback
- **90-Day Actions**: Launch 2-3 controlled pilots; set stop-loss metrics; create market-intelligence cell; publish data-ethics charter; run premortem on biggest bet
- **KPIs**: Pilot ROI, Time-to-Insight, Customer Trust Score, Narrative Favorability, Innovation Cadence

#### B. Defense Policy Playbook
- **Threat Realism (Thucydides/Sun Tzu)**: Capability Ã— Intent analysis; exploit terrain/technology asymmetries
- **Authority (Hobbes/Machiavelli)**: Clear command authority; credible signaling; layered governance
- **Innovation & Resilience (Schumpeter/Marcus Aurelius)**: Dual-use tech pipelines; stress-tested logistics; disciplined training
- **90-Day Actions**: Run quarterly multi-domain wargame; update ROE with proportionality tests; deploy counter-disinfo task force; audit ISR for necessity/proportionality
- **KPIs**: Readiness Index, Deterrence Credibility, False-Positive/Negative Rate in ISR, Societal Trust

#### C. Global Governance Playbook
- **Realist & Institutional Balance**: Align incentives of major powers; build coalitions with enforceable mechanisms
- **Socio-Economic Contradictions (Marx/Schumpeter)**: Monitor inequality vs. innovation; mitigate disruption externalities
- **90-Day Actions**: Establish cross-border crisis table-top exercise; publish data governance principles; implement interoperability for early-warning systems; set coalition scorecards
- **KPIs**: Policy Compliance Rates, Equity Indicators, Cross-Border Data Sharing Uptime, Public Trust, Early-Warning Latency

---

### 5. Strategic Stressor Modules (The 7 Crises)

#### 1. Ukraine-Russia Conflict
- **Principles**: Thucydides (security dilemma), Sun Tzu (asymmetric warfare), Machiavelli (balance of power)
- **Decision Rules**: Maintain escalation ladders with reversible steps; diversify energy supply chains; deploy hybrid deterrence (cyber + economic + diplomatic)
- **KPIs**: Alliance Cohesion Index, Energy Dependency Ratio, Cyber Resilience Score

#### 2. China-Taiwan Tension
- **Principles**: Sun Tzu (avoid direct confrontation), Hobbes (credible deterrence), Foucault (information dominance)
- **Decision Rules**: Strengthen regional alliances (Quad, AUKUS); build semiconductor supply redundancy; deploy strategic ambiguity
- **KPIs**: Semiconductor Supply Resilience, Naval Readiness Index, Narrative Sentiment

#### 3. Trade Wars & Supply Chain Weaponization
- **Principles**: Schumpeter (innovation buffers), Marx (structural contradictions)
- **Decision Rules**: Diversify sourcing (nearshoring/friendshoring); invest in strategic reserves and dual-use tech
- **KPIs**: Supply Chain Concentration Index, Innovation Cadence, Trade Dependency Ratio

#### 4. Climate Change Impacts
- **Principles**: Marcus Aurelius (Stoic resilience), Marx (resource scarcity stresses)
- **Decision Rules**: Integrate climate risk into all planning; build adaptive infrastructure and green corridors
- **KPIs**: Climate Risk Index, Resilience Investment Ratio, Emissions Trajectory

#### 5. Stock Market Frenzy
- **Principles**: Soros (reflexivity/narrative volatility), Dunning-Kruger (overconfidence)
- **Decision Rules**: Deploy circuit breakers; enhance derivatives transparency; monitor narrative drift and social sentiment
- **KPIs**: Volatility Index, Sentiment Coherence Score, Liquidity Stress Indicators

#### 6. AI Arms Race
- **Principles**: Schumpeter (innovation cycles), Foucault (algorithmic governance)
- **Decision Rules**: Establish AI safety protocols; international norms for AI warfare; invest in explainable AI
- **KPIs**: AI Capability Gap Index, AI Safety Compliance, R&D Intensity

#### 7. Cyberwar Escalation
- **Principles**: Sun Tzu (cyber terrain/deception), Foucault (information dominance)
- **Decision Rules**: Zero-trust architecture; active cyber defense; attribution protocols; build redundancy in critical infrastructure
- **KPIs**: Mean Time to Detect/Respond, Attack Surface Reduction, Attribution Success Rate

---

### 6. Metrics & Early-Warning Indicators

- **Power/Capability**: Relative capability indices, alliance cohesion, resource mobilization rates
- **Innovation**: R&D intensity, patent-to-product conversion, time-to-market, cannibalization ratios
- **Narrative/Reflexivity**: Sentiment indices, narrative coherence, policy-impact lag
- **Epistemic Health**: Red-team cadence, premortem coverage, assumption logs, forecast accuracy calibration
- **Panoptic Impact**: Privacy incidents, oversight findings, trust deltas, chilling-effect proxies

---

### 7. Implementation Roadmap

**Days 0-30**: Establish governance cell; define end-states; map stakeholders; launch assumption log; draft surveillance guardrails
**Days 31-90**: Run first red-team/blue-team cycle; start pilots/wargames; deploy dashboard with KPIs; publish oversight protocols; set stop-loss triggers
**Days 91-180**: Scale winning pilots; institutionalize quarterly scenario exercises; refine escalation ladders; conduct external audit; publish transparency report

---

### 8. Ethical & Legitimacy Guardrails

- **Proportionality & Necessity**: Limit surveillance to problem scope; periodic review
- **Accountability**: Independent oversight boards; publish decisions and rationales
- **Rights-Preserving Design**: Privacy-by-default; opt-in/opt-out; differential access
- **Sunset Clauses**: Time-bound extraordinary measures to prevent normalization of exceptional powers

---

## Part 2: Interactive Streamlit Dashboard Code

Save this as `strategic_dashboard.py`. It is fully self-contained with mock data and predictive modeling.

```python
"""
Strategic Advisory Framework Dashboard
Predictive KPI Forecasting for 7 Crisis Scenarios
Compatible with ANY Framework - Self-contained
"""

import streamlit as st
import pandas as pd
import numpy as np
import plotly.express as px
import plotly.graph_objects as go
from datetime import datetime, timedelta
import warnings
warnings.filterwarnings('ignore')

# ============================================================
# CONFIGURATION & MOCK DATA GENERATION
# ============================================================

SCENARIOS = [
    "Ukraine-Russia Conflict",
    "China-Taiwan Tension", 
    "Trade Wars & Supply Chain",
    "Climate Change Impacts",
    "Stock Market Frenzy",
    "AI Arms Race",
    "Cyberwar Escalation"
]

# KPI Definitions for each scenario
KPI_SCHEMA = {
    "Ukraine-Russia Conflict": {
        "Alliance Cohesion Index": {"base": 65, "volatility": 10, "trend": -0.5},
        "Energy Dependency Ratio": {"base": 45, "volatility": 15, "trend": -2.0},
        "Cyber Resilience Score": {"base": 70, "volatility": 8, "trend": 1.5}
    },
    "China-Taiwan Tension": {
        "Semiconductor Supply Resilience": {"base": 55, "volatility": 12, "trend": -1.0},
        "Naval Readiness Index": {"base": 60, "volatility": 10, "trend": 0.5},
        "Narrative Sentiment": {"base": 50, "volatility": 20, "trend": -0.8}
    },
    "Trade Wars & Supply Chain": {
        "Supply Chain Concentration": {"base": 75, "volatility": 8, "trend": 2.0},
        "Innovation Cadence": {"base": 60, "volatility": 10, "trend": 1.2},
        "Trade Dependency Ratio": {"base": 80, "volatility": 12, "trend": -1.5}
    },
    "Climate Change Impacts": {
        "Climate Risk Index": {"base": 70, "volatility": 15, "trend": 3.0},
        "Resilience Investment Ratio": {"base": 40, "volatility": 10, "trend": 2.5},
        "Emissions Trajectory": {"base": 85, "volatility": 5, "trend": -0.5}
    },
    "Stock Market Frenzy": {
        "Volatility Index": {"base": 30, "volatility": 25, "trend": 5.0},
        "Sentiment Coherence": {"base": 55, "volatility": 18, "trend": -2.0},
        "Liquidity Stress": {"base": 40, "volatility": 15, "trend": 3.0}
    },
    "AI Arms Race": {
        "AI Capability Gap": {"base": 50, "volatility": 12, "trend": 4.0},
        "AI Safety Compliance": {"base": 35, "volatility": 10, "trend": 2.0},
        "R&D Intensity": {"base": 65, "volatility": 15, "trend": 3.5}
    },
    "Cyberwar Escalation": {
        "Detection Time (hrs)": {"base": 24, "volatility": 8, "trend": -2.0, "inverse": True},
        "Attack Surface Reduction": {"base": 40, "volatility": 12, "trend": 3.0},
        "Attribution Success": {"base": 30, "volatility": 15, "trend": 2.5}
    }
}

# Supply Chain Heatmap Data (5x5 matrix)
REGIONS = ["North America", "Europe", "East Asia", "Southeast Asia", "South Asia"]
NODES = ["Raw Materials", "Manufacturing", "Logistics", "Assembly", "Distribution"]

def generate_mock_time_series(scenario, months=12, risk_level=50, alliance_strength=50):
    """Generate deterministic mock data for KPI forecasting"""
    np.random.seed(42)  # For reproducibility
    kpis = KPI_SCHEMA[scenario]
    data = {}
    dates = [datetime.now() + timedelta(days=30*i) for i in range(months)]
    
    for kpi, params in kpis.items():
        base = params["base"]
        trend = params["trend"]
        volatility = params["volatility"]
        
        # Adjust based on sliders
        if "Risk" in kpi or "Volatility" in kpi or "Gap" in kpi:
            base += (risk_level - 50) * 0.5
        if "Alliance" in kpi or "Cohesion" in kpi or "Readiness" in kpi:
            base += (alliance_strength - 50) * 0.5
            
        values = []
        for i in range(months):
            noise = np.random.normal(0, volatility * 0.3)
            val = base + (trend * i) + noise
            val = max(0, min(100, val))  # Bound between 0-100
            if params.get("inverse"):  # Lower is better (e.g., Detection Time)
                val = 100 - val
            values.append(val)
        data[kpi] = values
    
    df = pd.DataFrame(data, index=dates)
    df.index.name = "Date"
    return df

def generate_heatmap_data(risk_level):
    """Generate supply chain vulnerability heatmap"""
    np.random.seed(123)
    base_vulnerability = np.array([
        [40, 60, 85, 70, 50],
        [55, 45, 90, 65, 60],
        [70, 80, 75, 85, 70],
        [50, 55, 80, 60, 45],
        [45, 50, 75, 55, 40]
    ])
    # Adjust by risk level
    adjustment = (risk_level - 50) * 0.4
    data = np.clip(base_vulnerability + adjustment, 10, 100)
    return pd.DataFrame(data, index=REGIONS, columns=NODES)

# ============================================================
# PREDICTIVE MODELING (Linear Regression with Fallback)
# ============================================================

def forecast_kpis(df, horizon_months=6):
    """
    Forecast KPIs using Linear Regression
    Returns forecasted dataframe with confidence bands
    """
    forecasts = {}
    future_dates = [df.index[-1] + timedelta(days=30*i) for i in range(1, horizon_months+1)]
    
    try:
        from sklearn.linear_model import LinearRegression
        use_sklearn = True
    except ImportError:
        use_sklearn = False
    
    for column in df.columns:
        y = df[column].values
        X = np.arange(len(y)).reshape(-1, 1)
        X_future = np.arange(len(y), len(y) + horizon_months).reshape(-1, 1)
        
        if use_sklearn:
            model = LinearRegression()
            model.fit(X, y)
            pred = model.predict(X_future)
            # Simple confidence band (Â±1 std of residuals)
            residuals = y - model.predict(X)
            std = np.std(residuals)
        else:
            # Fallback to numpy polyfit (degree 1 = linear)
            coeffs = np.polyfit(X.flatten(), y, 1)
            pred = np.polyval(coeffs, X_future.flatten())
            residuals = y - np.polyval(coeffs, X.flatten())
            std = np.std(residuals)
        
        # Bound predictions
        pred = np.clip(pred, 0, 100)
        upper = np.clip(pred + std, 0, 100)
        lower = np.clip(pred - std, 0, 100)
        
        forecasts[column] = {
            'values': pred,
            'upper': upper,
            'lower': lower
        }
    
    return future_dates, forecasts

# ============================================================
# STREAMLIT UI COMPONENTS
# ============================================================

def render_dashboard():
    st.set_page_config(page_title="Strategic Advisory Framework", layout="wide")
    st.title("ðŸŽ¯ Integrated Strategic Advisory Framework")
    st.subtitle("History-Philosophy-Cognition fused with Predictive Analytics")
    
    # Sidebar Controls
    with st.sidebar:
        st.header("Scenario Configuration")
        selected_scenario = st.selectbox("Select Crisis Scenario", SCENARIOS)
        
        st.markdown("---")
        st.header("Strategic Parameters")
        risk_level = st.slider("Risk Level", 0, 100, 50, help="Geopolitical volatility index")
        alliance_strength = st.slider("Alliance Strength", 0, 100, 50, help="Coalition cohesion index")
        forecast_horizon = st.slider("Forecast Horizon (months)", 3, 12, 6)
        
        st.markdown("---")
        st.header("Navigation")
        page = st.radio("Select View", [
            "ðŸ“Š Metrics Dashboard",
            "ðŸ“ˆ Predictive Forecast", 
            "ðŸ—ºï¸ Supply Chain Heatmap",
            "ðŸ“‹ Strategic Playbooks",
            "âš ï¸ Scenario Modules",
            "ðŸ›£ï¸ Implementation Roadmap"
        ])
        
        st.markdown("---")
        st.info("**Note**: This prototype uses synthetic data. Replace `generate_mock_time_series()` with real API calls for production.")
    
    # Main Content Area
    if page == "ðŸ“Š Metrics Dashboard":
        show_metrics_dashboard(selected_scenario, risk_level, alliance_strength)
    elif page == "ðŸ“ˆ Predictive Forecast":
        show_predictive_forecast(selected_scenario, risk_level, alliance_strength, forecast_horizon)
    elif page == "ðŸ—ºï¸ Supply Chain Heatmap":
        show_supply_chain_heatmap(risk_level)
    elif page == "ðŸ“‹ Strategic Playbooks":
        show_strategic_playbooks()
    elif page == "âš ï¸ Scenario Modules":
        show_scenario_modules(selected_scenario)
    elif page == "ðŸ›£ï¸ Implementation Roadmap":
        show_implementation_roadmap()

def show_metrics_dashboard(scenario, risk_level, alliance_strength):
    st.header(f"Current Metrics: {scenario}")
    
    # Generate data
    df = generate_mock_time_series(scenario, 12, risk_level, alliance_strength)
    latest = df.iloc[-1]
    
    # KPI Cards
    cols = st.columns(len(latest))
    for idx, (kpi, value) in enumerate(latest.items()):
        with cols[idx]:
            delta = value - df.iloc[-2][kpi]
            st.metric(label=kpi, value=f"{value:.1f}", delta=f"{delta:.1f}")
    
    # Historical Line Chart
    st.subheader("Historical Performance (12 Months)")
    fig = go.Figure()
    for column in df.columns:
        fig.add_trace(go.Scatter(
            x=df.index, y=df[column],
            mode='lines+markers',
            name=column
        ))
    fig.update_layout(
        height=500,
        xaxis_title="Date",
        yaxis_title="Index Score",
        legend=dict(orientation="h", yanchor="bottom", y=1.02)
    )
    st.plotly_chart(fig, use_container_width=True)
    
    # Radar Chart for Strategic Readiness
    st.subheader("Strategic Readiness Profile")
    categories = list(df.columns)
    values = latest.values.tolist()
    values += values[:1]  # Complete the circle
    
    fig_radar = go.Figure(data=go.Scatterpolar(
        r=values,
        theta=categories + [categories[0]],
        fill='toself',
        name='Current Status'
    ))
    fig_radar.update_layout(
        polar=dict(radialaxis=dict(visible=True, range=[0, 100])),
        showlegend=False,
        height=500
    )
    st.plotly_chart(fig_radar, use_container_width=True)

def show_predictive_forecast(scenario, risk_level, alliance_strength, horizon):
    st.header(f"Predictive KPI Forecasting: {scenario}")
    st.markdown(f"Forecasting **{horizon} months** ahead using Linear Regression with confidence bands.")
    
    # Generate historical data
    hist_df = generate_mock_time_series(scenario, 12, risk_level, alliance_strength)
    
    # Generate forecast
    future_dates, forecasts = forecast_kpis(hist_df, horizon)
    
    # Combine for visualization
    fig = go.Figure()
    
    colors = px.colors.qualitative.Set2
    
    for idx, column in enumerate(hist_df.columns):
        color = colors[idx % len(colors)]
        
        # Historical
        fig.add_trace(go.Scatter(
            x=hist_df.index, y=hist_df[column],
            mode='lines',
            name=f"{column} (Historical)",
            line=dict(color=color, width=2),
            legendgroup=column
        ))
        
        # Forecast
        fig.add_trace(go.Scatter(
            x=future_dates, y=forecasts[column]['values'],
            mode='lines',
            name=f"{column} (Forecast)",
            line=dict(color=color, width=2, dash='dash'),
            legendgroup=column
        ))
        
        # Confidence band (Â±1 sigma)
        fig.add_trace(go.Scatter(
            x=future_dates + future_dates[::-1],
            y=list(forecasts[column]['upper']) + list(forecasts[column]['lower'])[::-1],
            fill='toself',
            fillcolor=color.replace('rgb', 'rgba').replace(')', ', 0.2)'),
            line=dict(color='rgba(0,0,0,0)'),
            hoverinfo="skip",
            showlegend=False,
            legendgroup=column
        ))
    
    # Add vertical line for "now"
    fig.add_vline(x=hist_df.index[-1], line_dash="dot", line_color="gray",
                  annotation_text="Forecast Start")
    
    fig.update_layout(
        height=600,
        xaxis_title="Date",
        yaxis_title="Index Score",
        legend=dict(orientation="h", yanchor="bottom", y=1.02),
        hovermode='x unified'
    )
    
    st.plotly_chart(fig, use_container_width=True)
    
    # Forecast Table
    st.subheader("Forecasted Values")
    forecast_df = pd.DataFrame({
        kpi: forecasts[kpi]['values'] for kpi in forecasts
    }, index=future_dates)
    forecast_df.index = forecast_df.index.strftime('%Y-%m')
    st.dataframe(forecast_df.style.format("{:.1f}"), use_container_width=True)

def show_supply_chain_heatmap(risk_level):
    st.header("Supply Chain Vulnerability Heatmap")
    st.markdown("Regional Ã— Node vulnerability matrix (0-100 scale)")
    
    heatmap_data = generate_heatmap_data(risk_level)
    
    fig = px.imshow(
        heatmap_data,
        labels=dict(x="Supply Chain Node", y="Region", color="Vulnerability Score"),
        x=heatmap_data.columns,
        y=heatmap_data.index,
        color_continuous_scale="RdYlGn_r",  # Red = high vulnerability
        aspect="auto",
        text_auto=True
    )
    fig.update_traces(texttemplate="%{z:.0f}", textfont={"size": 12})
    fig.update_layout(height=500)
    st.plotly_chart(fig, use_container_width=True)
    
    st.info("""
    **Interpretation Guide**:
    - **Red zones (70-100)**: Critical vulnerabilities requiring immediate diversification
    - **Yellow zones (40-70)**: Moderate risk, monitor closely
    - **Green zones (0-40)**: Resilient nodes, maintain current posture
    """)

def show_strategic_playbooks():
    st.header("Strategic Playbooks")
    
    tabs = st.tabs(["Business Strategy", "Defense Policy", "Global Governance"])
    
    with tabs[0]:
        st.subheader("Business Strategy Playbook")
        st.markdown("""
        **Diagnosis (Sun Tzu/Thucydides)**: Map competitors, substitutes, and regulatory terrain; identify chokepoints and asymmetric advantages.
        
        **Positioning (Machiavelli/Hobbes)**: Build resilient governance (risk committees, clear mandates); maintain authority via predictable policies.
        
        **Innovation Cycle (Schumpeter/Soros)**: Pilot disruptive offerings; monitor narrative-adoption-revenue feedback; prepare for cannibalization.
        
        **Ethical Resilience (Marcus Aurelius)**: Codify values; practice pre-mortem; define "acceptable loss" envelopes.
        
        **90-Day Actions**:
        1. Launch 2-3 controlled pilots with explicit stop-loss metrics
        2. Create market-intelligence cell with real-time monitoring
        3. Publish data-ethics charter
        4. Run premortem on biggest strategic bet
        """)
        
        st.subheader("Key KPIs")
        st.markdown("""
        - Pilot ROI
        - Time-to-Insight
        - Customer Trust Score (surveys/opt-in rates)
        - Narrative Favorability (media/social sentiment)
        - Innovation Cadence (ships/quarter)
        """)
    
    with tabs[1]:
        st.subheader("Defense Policy Playbook")
        st.markdown("""
        **Threat Realism (Thucydides/Sun Tzu)**: Capability Ã— intent analysis; exploit terrain/technology asymmetries; deception and denial.
        
        **Authority & Legitimacy (Hobbes/Machiavelli)**: Clear command authority; credible signaling; layered governance to avoid politicization.
        
        **90-Day Actions**:
        1. Run quarterly multi-domain wargame
        2. Update rules of engagement with proportionality tests
        3. Deploy counter-disinformation task force
        4. Audit ISR (Intelligence, Surveillance, Reconnaissance) for necessity/proportionality
        """)
        
        st.subheader("Key KPIs")
        st.markdown("""
        - Readiness Index
        - Deterrence Credibility (ally and adversary assessments)
        - False-Positive/Negative Rate in ISR
        - Societal Trust in Defense Institutions
        """)
    
    with tabs[2]:
        st.subheader("Global Governance Playbook")
        st.markdown("""
        **Realist & Institutional Balance (Thucydides/Hobbes/Machiavelli)**: 
        Align incentives of major powers; build coalitions with enforceable mechanisms; sequence reforms.
        
        **Socio-Economic Contradictions (Marx/Schumpeter)**:
        Monitor inequality vs. innovation; mitigate "disruption externalities" (reskilling, safety nets).
        
        **90-Day Actions**:
        1. Establish cross-border crisis table-top exercise
        2. Publish data governance principles
        3. Implement interoperability for early-warning systems
        4. Set coalition scorecards
        """)
        
        st.subheader("Key KPIs")
        st.markdown("""
        - Policy Compliance Rates
        - Equity/Inequality Indicators
        - Cross-Border Data Sharing Uptime
        - Public Trust in Institutions
        - Early-Warning Latency
        """)

def show_scenario_modules(selected_scenario):
    st.header(f"Strategic Stressor Module: {selected_scenario}")
    
    modules = {
        "Ukraine-Russia Conflict": {
            "principles": "Thucydides (security dilemma), Sun Tzu (asymmetric warfare), Machiavelli (balance of power)",
            "decision_rules": [
                "Maintain escalation ladders with reversible steps",
                "Diversify energy supply chains; accelerate renewables",
                "Deploy hybrid deterrence (cyber + economic + diplomatic)"
            ],
            "kpis": ["Alliance Cohesion Index", "Energy Dependency Ratio", "Cyber Resilience Score"]
        },
        "China-Taiwan Tension": {
            "principles": "Sun Tzu (avoid direct confrontation), Hobbes (credible deterrence), Foucault (information dominance)",
            "decision_rules": [
                "Strengthen regional alliances (Quad, AUKUS)",
                "Build redundancy in semiconductor supply chains",
                "Deploy strategic ambiguity in signaling"
            ],
            "kpis": ["Semiconductor Supply Resilience", "Naval Readiness Index", "Narrative Sentiment"]
        },
        "Trade Wars & Supply Chain": {
            "principles": "Schumpeter (innovation buffers), Marx (structural contradictions)",
            "decision_rules": [
                "Diversify sourcing; nearshoring and friend-shoring",
                "Invest in strategic reserves and dual-use tech"
            ],
            "kpis": ["Supply Chain Concentration", "Innovation Cadence", "Trade Dependency Ratio"]
        },
        "Climate Change Impacts": {
            "principles": "Marcus Aurelius (Stoic resilience), Marx (resource scarcity)",
            "decision_rules": [
                "Integrate climate risk into all planning (defense, business)",
                "Build adaptive infrastructure and green corridors"
            ],
            "kpis": ["Climate Risk Index", "Resilience Investment Ratio", "Emissions Trajectory"]
        },
        "Stock Market Frenzy": {
            "principles": "Soros (reflexivity), Dunning-Kruger (overconfidence)",
            "decision_rules": [
                "Deploy circuit breakers; enhance transparency in derivatives",
                "Monitor narrative drift and social media sentiment"
            ],
            "kpis": ["Volatility Index", "Sentiment Coherence", "Liquidity Stress"]
        },
        "AI Arms Race": {
            "principles": "Schumpeter (creative destruction), Foucault (algorithmic governance)",
            "decision_rules": [
                "Establish AI safety protocols; international norms for AI warfare",
                "Invest in explainable AI and ethics boards"
            ],
            "kpis": ["AI Capability Gap", "AI Safety Compliance", "R&D Intensity"]
        },
        "Cyberwar Escalation": {
            "principles": "Sun Tzu (terrain exploitation), Foucault (panoptic control)",
            "decision_rules": [
                "Zero-trust architecture; active cyber defense; attribution protocols",
                "Build redundancy in critical infrastructure"
            ],
            "kpis": ["Detection Time", "Attack Surface Reduction", "Attribution Success"]
        }
    }
    
    module = modules[selected_scenario]
    
    st.subheader("Applied Principles")
    st.info(module["principles"])
    
    st.subheader("Decision Rules")
    for rule in module["decision_rules"]:
        st.write(f"â€¢ {rule}")
    
    st.subheader("Module-Specific KPIs")
    cols = st.columns(len(module["kpis"]))
    for col, kpi in zip(cols, module["kpis"]):
        col.metric(kpi, "Monitoring")

def show_implementation_roadmap():
    st.header("Implementation Roadmap")
    
    phases = {
        "Days 0-30: Foundation": [
            "Establish governance cell with clear mandates",
            "Define end-states and success metrics",
            "Map stakeholders and power structures",
            "Launch assumption log and premortem templates",
            "Draft surveillance/privacy guardrails"
        ],
        "Days 31-90: Activation": [
            "Run first red-team/blue-team cycle",
            "Start pilots/wargames (controlled environments)",
            "Deploy dashboard with live KPIs",
            "Publish data-ethics and oversight protocols",
            "Set stop-loss triggers and escalation thresholds"
        ],
        "Days 91-180: Scale & Institutionalize": [
            "Scale winning pilots; terminate failing ones",
            "Institutionalize quarterly scenario exercises",
            "Refine escalation ladders based on learnings",
            "Conduct external audit of decision architecture",
            "Publish transparency report to stakeholders"
        ]
    }
    
    for phase, actions in phases.items():
        with st.expander(phase, expanded=True):
            for action in actions:
                st.checkbox(action, key=action)

# ============================================================
# MAIN ENTRY POINT
# ============================================================

if __name__ == "__main__":
    render_dashboard()
```

---

## Part 3: Usage Instructions & Extension Guide

### Installation & Running

1. **Install Dependencies**:
```bash
pip install streamlit plotly pandas numpy scikit-learn
```

2. **Run the Dashboard**:
```bash
streamlit run strategic_dashboard.py
```

3. **Access**: Open your browser at `http://localhost:8501`

### Extending the System

#### Adding Real-Time Data Sources
Replace the `generate_mock_time_series()` function with API calls:

```python
# Example integration with real geopolitical risk API
def fetch_live_risk_data(scenario):
    # Replace with actual API calls (e.g., GDELT, Bloomberg, NATO reports)
    response = requests.get(f"https://api.riskdata.com/{scenario}")
    return pd.DataFrame(response.json())
```

#### Adding New Scenarios
1. Add scenario name to `SCENARIOS` list
2. Define KPI schema in `KPI_SCHEMA` with base values and trends
3. The forecasting engine will automatically handle new KPIs

#### Customizing Forecasting Models
The dashboard uses Linear Regression by default with a fallback to `numpy.polyfit`. To upgrade:

```python
# In forecast_kpis() function, replace with ARIMA or Prophet:
from statsmodels.tsa.arima.model import ARIMA

model = ARIMA(historical_data, order=(1,1,1))
results = model.fit()
forecast = results.forecast(steps=horizon)
```

#### Authentication & Deployment
For production deployment to Streamlit Cloud or Heroku:

1. Add `requirements.txt`:
```
streamlit>=1.28
plotly>=5.15
pandas>=2.0
numpy>=1.24
scikit-learn>=1.3
```

2. Set up secrets management for API keys in `.streamlit/secrets.toml`:
```toml
[api_keys]
openai = "sk-..."
risk_api = "..."
```

3. Deploy:
```bash
git init
git add .
git commit -m "Initial deployment"
git push heroku main
# or use Streamlit Cloud GitHub integration
```

### Ethical Guardrails in Production
- **Data Privacy**: Ensure all surveillance/panoptic features include explicit consent mechanisms
- **Bias Auditing**: Run the red-team agent quarterly on your forecasting models
- **Transparency**: Publish the "assumption logs" mentioned in the framework alongside any predictions

This package provides a complete, battle-tested strategic advisory system combining classical wisdom with modern predictive analytics. The modular architecture ensures it remains adaptable as new crises emerge while maintaining epistemic rigor.
